---
/**
 * Demo page showing the enhanced blog post system
 */
import Base from "../layouts/Base.astro";
import { blogManager } from "../lib/blogManager";
import PostCardEnhanced from "../layouts/partials/PostCardEnhanced.astro";
import BlogPostsContainerEnhanced from "../layouts/components/BlogPostsContainerEnhanced.astro";

// Get sample posts
const allPosts = await blogManager.getAllPosts();
const featuredPosts = await blogManager.getFeaturedPosts(3);
const latestPosts = allPosts.slice(0, 6);
---
<Base title="Enhanced Blog System Demo">
  <div class="container py-16">
    <!-- Hero Section -->
    <section class="text-center mb-16">
      <h1 class="text-4xl font-bold mb-4">Enhanced Blog System Demo</h1>
      <p class="text-lg text-gray-600 max-w-3xl mx-auto">
        Experience the new and improved blog post system with advanced
        filtering, search capabilities, and modern responsive design.
      </p>
    </section>

    <!-- Featured Posts Section -->
    <section class="mb-16">
      <h2 class="text-3xl font-bold mb-8">Featured Posts</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        {
          featuredPosts.map((post, index) => (
            <PostCardEnhanced
              post={post}
              variant="featured"
              animationDelay={index * 150}
              showExcerpt={true}
              showReadingTime={true}
              showCategories={true}
              showDate={true}
            />
          ))
        }
      </div>
    </section>

    <!-- Enhanced Container Demo -->
    <section class="mb-16">
      <h2 class="text-3xl font-bold mb-8">Interactive Blog Container</h2>
      <BlogPostsContainerEnhanced
        posts={latestPosts}
        showFilters={true}
        showSearch={true}
        showSorting={true}
        gridCols={2}
        variant="card"
        title="All Posts"
        description="Browse our latest articles with advanced filtering and search"
      />
    </section>

    <!-- Card Variants Demo -->
    <section class="mb-16">
      <h2 class="text-3xl font-bold mb-8">Card Variants</h2>

      <!-- Default Variant -->
      <div class="mb-8">
        <h3 class="text-xl font-semibold mb-4">Default Variant</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          {
            allPosts
              .slice(0, 3)
              .map((post, index) => (
                <PostCardEnhanced
                  post={post}
                  variant="default"
                  animationDelay={index * 100}
                />
              ))
          }
        </div>
      </div>

      <!-- Compact Variant -->
      <div class="mb-8">
        <h3 class="text-xl font-semibold mb-4">Compact Variant</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
          {
            allPosts
              .slice(3, 7)
              .map((post, index) => (
                <PostCardEnhanced
                  post={post}
                  variant="compact"
                  showExcerpt={false}
                  animationDelay={index * 75}
                />
              ))
          }
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="bg-gray-50 rounded-lg p-8">
      <h2 class="text-3xl font-bold mb-8 text-center">Enhanced Features</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        <div class="text-center">
          <div
            class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4"
          >
            <svg
              class="w-8 h-8 text-primary"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </div>
          <h3 class="text-lg font-semibold mb-2">Advanced Search</h3>
          <p class="text-gray-600">
            Real-time search across titles, content, and metadata
          </p>
        </div>

        <div class="text-center">
          <div
            class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4"
          >
            <svg
              class="w-8 h-8 text-primary"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
              ></path>
            </svg>
          </div>
          <h3 class="text-lg font-semibold mb-2">Smart Filtering</h3>
          <p class="text-gray-600">
            Filter by categories, tags, and date ranges
          </p>
        </div>

        <div class="text-center">
          <div
            class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4"
          >
            <svg
              class="w-8 h-8 text-primary"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M13 10V3L4 14h7v7l9-11h-7z"></path>
            </svg>
          </div>
          <h3 class="text-lg font-semibold mb-2">Performance Optimized</h3>
          <p class="text-gray-600">
            Caching, lazy loading, and optimized images
          </p>
        </div>

        <div class="text-center">
          <div
            class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4"
          >
            <svg
              class="w-8 h-8 text-primary"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"
              ></path>
            </svg>
          </div>
          <h3 class="text-lg font-semibold mb-2">Fully Responsive</h3>
          <p class="text-gray-600">Perfect experience on all devices</p>
        </div>

        <div class="text-center">
          <div
            class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4"
          >
            <svg
              class="w-8 h-8 text-primary"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"
              ></path>
            </svg>
          </div>
          <h3 class="text-lg font-semibold mb-2">Accessibility First</h3>
          <p class="text-gray-600">WCAG compliant with keyboard navigation</p>
        </div>

        <div class="text-center">
          <div
            class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4"
          >
            <svg
              class="w-8 h-8 text-primary"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 3v10a2 2 0 002 2h6a2 2 0 002-2V7H7z"
              ></path>
            </svg>
          </div>
          <h3 class="text-lg font-semibold mb-2">Related Content</h3>
          <p class="text-gray-600">Intelligent content recommendations</p>
        </div>
      </div>
    </section>
  </div>
</Base>
